<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#003F88">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="BRI EduQ">
<meta name="description" content="BRI EduQ Smart Queue â€“ Persiapan cerdas sebelum layanan">
<title>BRI EduQ â€“ Smart Queue System</title>

<!-- PWA Manifest inline -->
<link rel="manifest" href="manifest.json">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CSS VARIABLES & RESET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --blue:       #003F88;
  --blue-mid:   #0055B3;
  --blue-light: #0065CC;
  --blue-sky:   #0090E0;
  --blue-pale:  #EEF4FF;
  --orange:     #F47920;
  --gold:       #FFB800;
  --success:    #0D9B50;
  --success-bg: #E8F9EF;
  --danger:     #D0021B;
  --danger-bg:  #FFF0F0;
  --text:       #0F1629;
  --text-mid:   #3D4F6E;
  --text-muted: #8899BB;
  --border:     #D8E4F5;
  --bg:         #F4F7FD;
  --card:       #FFFFFF;
  --shadow-sm:  0 2px 8px rgba(0,63,136,.08);
  --shadow-md:  0 8px 32px rgba(0,63,136,.14);
  --shadow-lg:  0 20px 60px rgba(0,63,136,.18);
  --radius-sm:  10px;
  --radius-md:  16px;
  --radius-lg:  24px;
  --radius-xl:  32px;
  --duration:   0.35s;
  --ease:       cubic-bezier(0.34,1.56,0.64,1);
  --ease-out:   cubic-bezier(0.22,1,0.36,1);
  --safe-top:   env(safe-area-inset-top, 0px);
  --safe-bot:   env(safe-area-inset-bottom, 0px);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

html {
  height: 100%;
  overflow: hidden;
  font-size: 16px;
}

body {
  font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  height: 100%;
  overflow: hidden;
  position: fixed;
  width: 100%;
  -webkit-font-smoothing: antialiased;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   APP SHELL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#app {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREENS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.screen {
  position: absolute;
  inset: 0;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s var(--ease-out), transform 0.35s var(--ease-out);
  transform: translateX(30px);
  will-change: transform, opacity;
}

.screen.active {
  opacity: 1;
  pointer-events: all;
  transform: translateX(0);
  z-index: 10;
}

.screen.exit-left {
  opacity: 0;
  transform: translateX(-40px);
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s ease;
  z-index: 5;
}

.screen.enter-right {
  transform: translateX(30px);
}
.screen.enter-left {
  transform: translateX(-30px);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GRADIENT BG UTILITY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.grad-blue {
  background: linear-gradient(160deg, var(--blue) 0%, var(--blue-light) 55%, var(--blue-sky) 100%);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREEN 1 â€” WELCOME / SPLASH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#screen-welcome {
  background: linear-gradient(160deg, #001F44 0%, var(--blue) 45%, var(--blue-light) 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100%;
  padding: calc(var(--safe-top) + 24px) 28px calc(var(--safe-bot) + 32px);
  position: relative;
  overflow: hidden;
}

.welcome-orbs {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.orb {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,.06) 0%, transparent 70%);
  animation: drift 8s ease-in-out infinite;
}
.orb-1 { width: 280px; height: 280px; top: -60px; right: -80px; animation-delay: 0s; }
.orb-2 { width: 200px; height: 200px; bottom: 80px; left: -60px; animation-delay: -3s; }
.orb-3 { width: 150px; height: 150px; top: 40%; left: 50%; animation-delay: -5s; }

@keyframes drift {
  0%, 100% { transform: translate(0,0) scale(1); }
  33%       { transform: translate(10px,-15px) scale(1.05); }
  66%       { transform: translate(-8px,8px) scale(0.97); }
}

.welcome-logo {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 40px;
  animation: fadeUp 0.6s var(--ease-out) both;
}

.logo-badge {
  width: 52px;
  height: 52px;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(12px);
  border: 1.5px solid rgba(255,255,255,0.25);
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 800;
  color: white;
  letter-spacing: 0.5px;
}

.logo-text {
  display: flex;
  flex-direction: column;
}
.logo-text .bri { font-size: 26px; font-weight: 800; color: white; line-height: 1; }
.logo-text .sq  { font-size: 10px; font-weight: 600; color: rgba(255,255,255,.6); letter-spacing: 1.5px; text-transform: uppercase; }

.welcome-hero {
  text-align: center;
  margin-bottom: 40px;
  animation: fadeUp 0.7s var(--ease-out) 0.1s both;
}

.eduq-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(255,184,0,.2);
  border: 1px solid rgba(255,184,0,.4);
  color: var(--gold);
  font-size: 11px;
  font-weight: 700;
  padding: 5px 14px;
  border-radius: 20px;
  margin-bottom: 16px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.welcome-title {
  font-size: clamp(28px, 8vw, 36px);
  font-weight: 800;
  color: white;
  line-height: 1.15;
  margin-bottom: 12px;
}

.welcome-title span {
  background: linear-gradient(90deg, var(--gold), #FFE080);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.welcome-sub {
  font-size: 14px;
  color: rgba(255,255,255,.7);
  line-height: 1.6;
  max-width: 280px;
  margin: 0 auto;
}

.ticket-preview {
  background: white;
  border-radius: var(--radius-lg);
  padding: 20px;
  width: 100%;
  max-width: 300px;
  box-shadow: var(--shadow-lg);
  margin-bottom: 32px;
  animation: fadeUp 0.8s var(--ease-out) 0.2s both;
  position: relative;
  overflow: hidden;
}

.ticket-preview::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--orange), var(--gold));
}

.tp-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;
}

.tp-logo {
  width: 32px; height: 32px;
  background: var(--blue);
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 9px; font-weight: 800; color: white;
}

.tp-brand { font-size: 18px; font-weight: 800; color: var(--blue); }

.tp-number {
  text-align: center;
  margin-bottom: 12px;
}
.tp-number .num { font-size: 48px; font-weight: 800; color: var(--blue); line-height: 1; }
.tp-number .type { font-size: 11px; color: var(--text-muted); margin-top: 4px; }

.tp-divider {
  border: none;
  border-top: 2px dashed var(--border);
  margin: 12px 0;
}

.tp-meta {
  display: flex;
  justify-content: space-between;
  margin-bottom: 14px;
}
.tp-meta-item .lbl { font-size: 9px; color: var(--text-muted); text-transform: uppercase; letter-spacing: .5px; }
.tp-meta-item .val { font-size: 13px; font-weight: 700; color: var(--text); }

.tp-qr-section {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--blue-pale);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
}
.tp-qr-text { flex: 1; }
.tp-qr-text .qr-title { font-size: 11px; font-weight: 700; color: var(--blue); }
.tp-qr-text .qr-sub { font-size: 10px; color: var(--text-muted); margin-top: 2px; }

/* QR SVG mini */
.qr-mini {
  width: 44px; height: 44px;
  background: var(--blue);
  border-radius: 6px;
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}

.welcome-cta {
  width: 100%;
  max-width: 300px;
  padding: 16px;
  background: linear-gradient(135deg, var(--orange), var(--gold));
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-family: inherit;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 28px rgba(244,121,32,.45);
  transition: transform .2s var(--ease), box-shadow .2s ease;
  animation: fadeUp 0.9s var(--ease-out) 0.3s both;
  position: relative;
  overflow: hidden;
  letter-spacing: .2px;
}

.welcome-cta::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(255,255,255,.2) 0%, transparent 50%);
  border-radius: inherit;
}

.welcome-cta:active { transform: scale(0.97); box-shadow: 0 4px 16px rgba(244,121,32,.3); }

.welcome-footer {
  margin-top: 16px;
  font-size: 11px;
  color: rgba(255,255,255,.4);
  animation: fadeUp 1s var(--ease-out) 0.4s both;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHARED: MOBILE HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.mobile-header {
  position: sticky;
  top: 0;
  z-index: 50;
  padding: calc(var(--safe-top) + 14px) 20px 16px;
  background: linear-gradient(160deg, var(--blue), var(--blue-light));
  color: white;
}

.mh-top {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.mh-back {
  width: 34px; height: 34px;
  background: rgba(255,255,255,.15);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  color: white;
  cursor: pointer;
  flex-shrink: 0;
  transition: background .2s;
}
.mh-back:active { background: rgba(255,255,255,.25); }

.mh-logo {
  width: 28px; height: 28px;
  background: rgba(255,255,255,.2);
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 8px; font-weight: 800; color: white;
  flex-shrink: 0;
}

.mh-title { flex: 1; }
.mh-title .title { font-size: 15px; font-weight: 700; color: white; line-height: 1.2; }
.mh-title .sub   { font-size: 10.5px; color: rgba(255,255,255,.65); margin-top: 1px; }

.mh-queue-badge {
  background: rgba(255,255,255,.15);
  border: 1px solid rgba(255,255,255,.3);
  border-radius: 20px;
  padding: 4px 10px;
  font-size: 12px;
  font-weight: 700;
  color: white;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREEN 2 â€” MENU LAYANAN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#screen-menu {
  background: var(--bg);
  min-height: 100%;
}

.menu-hero {
  padding: 0 20px 20px;
  background: linear-gradient(160deg, var(--blue), var(--blue-light));
  color: white;
  padding-bottom: 28px;
}

.mh-greeting { font-size: 22px; font-weight: 800; line-height: 1.25; color: white; }
.mh-greetsub { font-size: 13px; color: rgba(255,255,255,.7); margin-top: 4px; }

.menu-body {
  padding: 20px 16px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding-bottom: calc(var(--safe-bot) + 24px);
}

.menu-section-label {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 1.2px;
  padding: 0 4px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.menu-section-label::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}

.menu-card {
  background: var(--card);
  border-radius: var(--radius-md);
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  border: 1.5px solid transparent;
  transition: all .22s var(--ease-out);
  position: relative;
  overflow: hidden;
}

.menu-card:active {
  transform: scale(0.98);
  border-color: var(--blue-light);
  box-shadow: var(--shadow-md);
}

.menu-card-icon {
  width: 48px; height: 48px;
  border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px;
  flex-shrink: 0;
}
.ic-blue   { background: #EEF4FF; }
.ic-orange { background: #FFF3E8; }
.ic-green  { background: #E8F9EF; }
.ic-red    { background: #FFF0F0; }
.ic-purple { background: #F3EEFF; }

.menu-card-text { flex: 1; }
.menu-card-text h3 { font-size: 14px; font-weight: 700; color: var(--text); }
.menu-card-text p  { font-size: 12px; color: var(--text-muted); margin-top: 2px; line-height: 1.4; }

.menu-card-arrow {
  width: 28px; height: 28px;
  background: var(--blue-pale);
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  color: var(--blue);
  font-size: 13px;
  font-weight: 700;
  flex-shrink: 0;
}

/* Warning banner */
.warn-banner {
  background: linear-gradient(135deg, #FFF3E8, #FFF8F2);
  border: 2px solid var(--orange);
  border-radius: var(--radius-md);
  padding: 16px;
  display: flex;
  gap: 12px;
  cursor: pointer;
  transition: transform .2s var(--ease-out);
  box-shadow: 0 4px 16px rgba(244,121,32,.15);
}
.warn-banner:active { transform: scale(0.98); }

.warn-banner-icon { font-size: 28px; flex-shrink: 0; }
.warn-banner-text h3 { font-size: 14px; font-weight: 800; color: #B34400; }
.warn-banner-text p  { font-size: 12px; color: #8B5E3C; margin-top: 4px; line-height: 1.5; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREEN 3 â€” CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#screen-checklist {
  background: var(--bg);
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

.checklist-header {
  padding: 0 20px 20px;
  background: linear-gradient(160deg, var(--blue), var(--blue-light));
  color: white;
}

.progress-section {
  background: var(--card);
  border-radius: var(--radius-md);
  padding: 14px 16px;
  margin: 16px;
  box-shadow: var(--shadow-sm);
}

.progress-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.progress-label { font-size: 13px; font-weight: 700; color: var(--text); }
.progress-count { font-size: 13px; font-weight: 800; color: var(--blue); }

.progress-track {
  height: 8px;
  background: var(--border);
  border-radius: 100px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--success), #44DD88);
  border-radius: 100px;
  transition: width .5s var(--ease-out);
  width: 0%;
}

.checklist-body {
  flex: 1;
  padding: 0 16px 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.check-item {
  background: var(--card);
  border-radius: var(--radius-md);
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  border: 2px solid transparent;
  transition: all .25s var(--ease-out);
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
}

.check-item::before {
  content: '';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: var(--border);
  transition: background .25s;
}

.check-item.checked {
  border-color: rgba(13,155,80,.3);
  background: linear-gradient(135deg, #F0FBF5, white);
}

.check-item.checked::before { background: var(--success); }

.check-box {
  width: 26px; height: 26px;
  border-radius: 8px;
  border: 2px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
  transition: all .25s var(--ease);
  background: white;
}

.check-item.checked .check-box {
  background: var(--success);
  border-color: var(--success);
  transform: scale(1.05);
}

.check-icon {
  font-size: 14px;
  opacity: 0;
  transform: scale(0) rotate(-15deg);
  transition: all .25s var(--ease);
  color: white;
}

.check-item.checked .check-icon {
  opacity: 1;
  transform: scale(1) rotate(0deg);
}

.check-text { flex: 1; }
.check-text h4 { font-size: 14px; font-weight: 600; color: var(--text); transition: color .25s; line-height: 1.3; }
.check-text p  { font-size: 12px; color: var(--text-muted); margin-top: 3px; line-height: 1.4; }
.check-item.checked .check-text h4 { color: var(--success); }

.check-optional {
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  background: var(--bg);
  padding: 2px 7px;
  border-radius: 20px;
  flex-shrink: 0;
}

/* All items note box */
.info-box {
  background: var(--blue-pale);
  border: 1px solid rgba(0,101,204,.2);
  border-radius: var(--radius-sm);
  padding: 12px 14px;
  display: flex;
  gap: 10px;
  align-items: flex-start;
  font-size: 12px;
  color: var(--blue);
  margin: 0 16px 10px;
}
.info-box .ib-icon { font-size: 16px; flex-shrink: 0; margin-top: -1px; }

/* Sticky footer */
.checklist-footer {
  position: sticky;
  bottom: 0;
  background: white;
  padding: 14px 16px calc(var(--safe-bot) + 14px);
  box-shadow: 0 -8px 24px rgba(0,63,136,.1);
  border-top: 1px solid var(--border);
}

.complete-btn {
  width: 100%;
  padding: 15px;
  border: none;
  border-radius: var(--radius-md);
  font-family: inherit;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  transition: all .3s var(--ease-out);
  letter-spacing: .2px;
  position: relative;
  overflow: hidden;
}

.complete-btn.locked {
  background: var(--border);
  color: var(--text-muted);
  cursor: not-allowed;
}

.complete-btn.unlocked {
  background: linear-gradient(135deg, var(--success), #22C06A);
  color: white;
  box-shadow: 0 8px 24px rgba(13,155,80,.35);
  animation: pulseGreen 2s ease-in-out infinite;
}

.complete-btn.unlocked:active { transform: scale(0.98); }

@keyframes pulseGreen {
  0%, 100% { box-shadow: 0 8px 24px rgba(13,155,80,.35); }
  50%       { box-shadow: 0 12px 36px rgba(13,155,80,.55); }
}

.complete-hint {
  text-align: center;
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 8px;
  font-weight: 500;
  min-height: 16px;
  transition: opacity .3s;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREEN 4 â€” PSA / WARNING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#screen-psa {
  background: #080C18;
  min-height: 100%;
  color: white;
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

.psa-glow-bg {
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 60%;
  background: radial-gradient(ellipse 80% 60% at 50% 0%, rgba(208,2,27,.2) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
}

.psa-header {
  position: sticky;
  top: 0;
  z-index: 50;
  padding: calc(var(--safe-top) + 14px) 20px 14px;
  background: rgba(8,12,24,.9);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(255,255,255,.06);
  display: flex;
  align-items: center;
  gap: 12px;
}

.psa-back {
  width: 34px; height: 34px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  color: white;
  cursor: pointer;
  flex-shrink: 0;
}

.psa-header-text { flex: 1; }
.psa-header-text h2 { font-size: 14px; font-weight: 700; color: white; }
.psa-header-text p  { font-size: 11px; color: rgba(255,255,255,.4); }

.psa-danger-badge {
  background: var(--danger);
  color: white;
  font-size: 10px;
  font-weight: 800;
  padding: 4px 10px;
  border-radius: 20px;
  letter-spacing: .8px;
}

.psa-body {
  padding: 0 20px 0;
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
}

.psa-hero {
  text-align: center;
  padding: 32px 0 24px;
}

.psa-warning-icon {
  font-size: 72px;
  display: block;
  margin-bottom: 16px;
  animation: shakePulse 3s ease-in-out infinite;
}

@keyframes shakePulse {
  0%, 85%, 100% { transform: scale(1) rotate(0deg); }
  90%            { transform: scale(1.1) rotate(-3deg); }
  95%            { transform: scale(1.1) rotate(3deg); }
}

.psa-tag {
  display: inline-block;
  background: var(--danger);
  color: white;
  font-size: 10px;
  font-weight: 800;
  padding: 4px 14px;
  border-radius: 20px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 16px;
}

.psa-title {
  font-size: 28px;
  font-weight: 800;
  line-height: 1.2;
  margin-bottom: 10px;
}

.psa-title .highlight { color: #FF4444; }

.psa-subtitle {
  font-size: 14px;
  color: rgba(255,255,255,.6);
  line-height: 1.6;
}

/* Victim cards */
.victim-card {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius-md);
  padding: 16px;
  margin-bottom: 12px;
  transition: transform .2s;
}

.victim-card:active { transform: scale(0.99); }

.vc-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
.vc-icon { font-size: 32px; }
.vc-header-text h3 { font-size: 14px; font-weight: 700; color: white; }
.vc-header-text p  { font-size: 11px; color: rgba(255,255,255,.4); margin-top: 2px; }

.vc-impacts {
  background: rgba(208,2,27,.12);
  border: 1px solid rgba(208,2,27,.2);
  border-radius: var(--radius-sm);
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.vc-impact-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  font-size: 13px;
  color: rgba(255,120,120,.9);
  line-height: 1.4;
}

.vc-impact-item .xi { flex-shrink: 0; font-size: 14px; }

/* Law box */
.law-box {
  background: rgba(255,184,0,.06);
  border: 1px solid rgba(255,184,0,.25);
  border-radius: var(--radius-md);
  padding: 16px;
  display: flex;
  gap: 12px;
  margin-bottom: 12px;
}

.law-icon { font-size: 28px; flex-shrink: 0; }
.law-text h3 { font-size: 14px; font-weight: 700; color: var(--gold); margin-bottom: 6px; }
.law-text p  { font-size: 13px; color: rgba(255,255,255,.65); line-height: 1.6; }
.law-text strong { color: var(--gold); }

/* Section header */
.psa-section-label {
  font-size: 11px;
  font-weight: 700;
  color: rgba(255,255,255,.3);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  margin: 24px 0 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.psa-section-label::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,.06); }

/* Safe steps */
.safe-steps { display: flex; flex-direction: column; gap: 10px; margin-bottom: 24px; }

.safe-step {
  display: flex;
  align-items: center;
  gap: 12px;
  background: rgba(255,255,255,.04);
  border-radius: var(--radius-sm);
  padding: 12px 14px;
}

.safe-num {
  width: 30px; height: 30px;
  border-radius: 10px;
  background: var(--blue);
  display: flex; align-items: center; justify-content: center;
  font-size: 13px;
  font-weight: 800;
  color: white;
  flex-shrink: 0;
}

.safe-text { font-size: 13px; color: rgba(255,255,255,.8); line-height: 1.45; font-weight: 500; }

/* PSA CTA */
.psa-cta-section {
  position: sticky;
  bottom: 0;
  padding: 14px 20px calc(var(--safe-bot) + 14px);
  background: rgba(8,12,24,.97);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-top: 1px solid rgba(255,255,255,.08);
  z-index: 20;
}

.understand-btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, var(--danger), #FF3355);
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-family: inherit;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(208,2,27,.4);
  transition: transform .2s var(--ease-out), box-shadow .2s;
  letter-spacing: .2px;
}
.understand-btn:active { transform: scale(0.98); }

.report-link {
  text-align: center;
  margin-top: 10px;
  font-size: 12px;
  color: rgba(255,255,255,.35);
}
.report-link a { color: var(--gold); text-decoration: none; font-weight: 600; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREEN 5 â€” DONE / SIAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#screen-done {
  background: linear-gradient(160deg, #E8F9EF 0%, var(--bg) 40%, white 100%);
  min-height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: calc(var(--safe-top) + 20px) 24px calc(var(--safe-bot) + 32px);
}

.done-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 360px;
  gap: 20px;
}

.done-success-ring {
  width: 110px; height: 110px;
  position: relative;
  margin-top: 20px;
}

.done-ring {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 3px solid rgba(13,155,80,.2);
  animation: ringExpand 1.5s ease-out infinite;
}
.done-ring:nth-child(2) { animation-delay: .5s; }
.done-ring:nth-child(3) { animation-delay: 1s; }

@keyframes ringExpand {
  0%   { transform: scale(1); opacity: .7; }
  100% { transform: scale(1.6); opacity: 0; }
}

.done-badge {
  position: absolute;
  inset: 8px;
  background: linear-gradient(135deg, var(--success), #22C06A);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 44px;
  box-shadow: 0 12px 36px rgba(13,155,80,.4);
  animation: bounceIn .6s var(--ease) .2s both;
}

@keyframes bounceIn {
  0%  { transform: scale(0) rotate(-10deg); }
  80% { transform: scale(1.1) rotate(2deg); }
  100%{ transform: scale(1) rotate(0deg); }
}

.done-title { font-size: 28px; font-weight: 800; color: var(--blue); text-align: center; }
.done-sub   { font-size: 14px; color: var(--text-muted); text-align: center; line-height: 1.6; }

.done-recap {
  background: white;
  border-radius: var(--radius-lg);
  padding: 20px;
  width: 100%;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
}

.done-recap-title {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 14px;
}

.recap-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
}

.recap-row + .recap-row { border-top: 1px solid var(--border); }

.recap-label { font-size: 13px; color: var(--text-muted); }
.recap-val   { font-size: 14px; font-weight: 700; color: var(--text); text-align: right; max-width: 55%; }

.ready-pill {
  background: var(--success-bg);
  color: var(--success);
  font-size: 12px;
  font-weight: 700;
  padding: 4px 12px;
  border-radius: 20px;
}

.done-tip {
  background: linear-gradient(135deg, #FFF8F0, #FFFBF5);
  border: 1px solid rgba(244,121,32,.2);
  border-radius: var(--radius-md);
  padding: 14px 16px;
  display: flex;
  gap: 10px;
  align-items: flex-start;
  width: 100%;
  font-size: 13px;
  color: #8B5E3C;
  line-height: 1.5;
}

.done-home-btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, var(--blue), var(--blue-light));
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-family: inherit;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,63,136,.3);
  transition: transform .2s var(--ease-out);
}
.done-home-btn:active { transform: scale(0.98); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RIPPLE EFFECT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ripple-container { position: relative; overflow: hidden; }

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(0,0,0,.08);
  transform: scale(0);
  animation: rippleAnim .5s linear;
  pointer-events: none;
}

@keyframes rippleAnim {
  to { transform: scale(4); opacity: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST NOTIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.toast {
  position: fixed;
  bottom: calc(var(--safe-bot) + 80px);
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: var(--text);
  color: white;
  font-size: 13px;
  font-weight: 600;
  padding: 10px 20px;
  border-radius: 100px;
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: all .3s var(--ease-out);
  white-space: nowrap;
  box-shadow: 0 8px 24px rgba(0,0,0,.3);
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONFETTI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.confetti-piece {
  position: fixed;
  width: 8px;
  height: 8px;
  top: -10px;
  border-radius: 2px;
  pointer-events: none;
  z-index: 9999;
  animation: confettiFall linear both;
}

@keyframes confettiFall {
  0%   { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STAGGER ANIMATION HELPERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.stagger-child {
  opacity: 0;
  transform: translateY(16px);
}

.stagger-child.animate {
  animation: fadeUp .4s var(--ease-out) both;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCROLLBAR HIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.screen::-webkit-scrollbar { display: none; }
.screen { scrollbar-width: none; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOADING SPLASH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#loading-splash {
  position: fixed;
  inset: 0;
  background: linear-gradient(160deg, #001F44 0%, var(--blue) 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity .5s ease, transform .5s ease;
}

#loading-splash.hide {
  opacity: 0;
  transform: scale(1.05);
  pointer-events: none;
}

.splash-logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  animation: fadeIn .6s ease both;
}

.splash-badge {
  width: 80px; height: 80px;
  background: rgba(255,255,255,.15);
  border: 2px solid rgba(255,255,255,.25);
  border-radius: 22px;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px;
  font-weight: 800;
  color: white;
  letter-spacing: 1px;
  backdrop-filter: blur(10px);
}

.splash-title { font-size: 32px; font-weight: 800; color: white; }
.splash-sub { font-size: 13px; color: rgba(255,255,255,.5); letter-spacing: 2px; text-transform: uppercase; }

.splash-loader {
  margin-top: 40px;
  width: 40px;
  height: 40px;
  border: 3px solid rgba(255,255,255,.1);
  border-top-color: white;
  border-radius: 50%;
  animation: spin .7s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOADING SPLASH â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="loading-splash">
  <div class="splash-logo">
    <div class="splash-badge">BRI</div>
    <div class="splash-title">EduQ</div>
    <div class="splash-sub">Smart Queue System</div>
  </div>
  <div class="splash-loader"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• APP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="app">

  <!-- TOAST -->
  <div class="toast" id="toast"></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN 1: WELCOME â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen active" id="screen-welcome">
    <div class="welcome-orbs">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>

    <div class="welcome-logo">
      <div class="logo-badge">BRI</div>
      <div class="logo-text">
        <span class="bri">BRI</span>
        <span class="sq">Smart Queue</span>
      </div>
    </div>

    <div class="welcome-hero">
      <div class="eduq-badge">âœ¨ EduQ System</div>
      <h1 class="welcome-title">Persiapkan Diri<br><span>Sebelum Dipanggil</span></h1>
      <p class="welcome-sub">Gunakan waktu tunggu Anda untuk memastikan dokumen lengkap dan waspada terhadap penipuan.</p>
    </div>

    <!-- Ticket Preview -->
    <div class="ticket-preview">
      <div class="tp-header">
        <div class="tp-logo">BRI</div>
        <span class="tp-brand">BRI</span>
      </div>
      <div class="tp-number">
        <div class="num">A 037</div>
        <div class="type">Antrean Teller / Customer Service</div>
      </div>
      <hr class="tp-divider">
      <div class="tp-meta">
        <div class="tp-meta-item">
          <div class="lbl">Tanggal</div>
          <div class="val" id="ticket-date">â€”</div>
        </div>
        <div class="tp-meta-item">
          <div class="lbl">Waktu</div>
          <div class="val" id="ticket-time">â€”</div>
        </div>
        <div class="tp-meta-item">
          <div class="lbl">Loket</div>
          <div class="val">CS / Teller</div>
        </div>
      </div>
      <div class="tp-qr-section">
        <div class="tp-qr-text">
          <div class="qr-title">ğŸ“± Scan untuk persiapan</div>
          <div class="qr-sub">Cek dokumen & keamanan</div>
        </div>
        <div class="qr-mini">
          <!-- Minimal QR pattern -->
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <rect x="2" y="2" width="9" height="9" rx="1.5" fill="white"/>
            <rect x="3.5" y="3.5" width="6" height="6" rx="1" fill="#003F88"/>
            <rect x="4.5" y="4.5" width="4" height="4" rx=".5" fill="white"/>
            <rect x="21" y="2" width="9" height="9" rx="1.5" fill="white"/>
            <rect x="22.5" y="3.5" width="6" height="6" rx="1" fill="#003F88"/>
            <rect x="23.5" y="4.5" width="4" height="4" rx=".5" fill="white"/>
            <rect x="2" y="21" width="9" height="9" rx="1.5" fill="white"/>
            <rect x="3.5" y="22.5" width="6" height="6" rx="1" fill="#003F88"/>
            <rect x="4.5" y="23.5" width="4" height="4" rx=".5" fill="white"/>
            <rect x="13" y="2" width="3" height="3" rx=".5" fill="white"/>
            <rect x="17" y="2" width="3" height="3" rx=".5" fill="white"/>
            <rect x="13" y="6" width="3" height="3" rx=".5" fill="white"/>
            <rect x="13" y="13" width="6" height="6" rx="1" fill="white" opacity=".4"/>
            <rect x="14.5" y="14.5" width="3" height="3" rx=".5" fill="white"/>
            <rect x="21" y="13" width="3" height="3" rx=".5" fill="white"/>
            <rect x="25" y="13" width="6" height="3" rx=".5" fill="white"/>
            <rect x="13" y="21" width="3" height="6" rx=".5" fill="white"/>
            <rect x="17" y="21" width="6" height="3" rx=".5" fill="white"/>
            <rect x="21" y="25" width="3" height="6" rx=".5" fill="white"/>
            <rect x="25" y="21" width="6" height="6" rx="1" fill="white"/>
          </svg>
        </div>
      </div>
    </div>

    <button class="welcome-cta" onclick="goToScreen('screen-menu')">
      Mulai Persiapan Sekarang â†’
    </button>

    <div class="welcome-footer">KC MPH BRI Â· EduQ System 2025</div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN 2: MENU â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-menu">
    <div class="mobile-header">
      <div class="mh-top">
        <button class="mh-back" onclick="goBack('screen-welcome')">â€¹</button>
        <div class="mh-logo">BRI</div>
        <div class="mh-title">
          <div class="title">BRI Smart Queue</div>
          <div class="sub">EduQ System Â· Antrian A037</div>
        </div>
        <div class="mh-queue-badge">A037</div>
      </div>
    </div>

    <div class="menu-hero">
      <h2 class="mh-greeting">Pilih layanan yang<br>ingin Anda ajukan ğŸ‘‡</h2>
      <p class="mh-greetsub">Kami akan bantu persiapkan dokumen yang diperlukan</p>
    </div>

    <div class="menu-body">
      <div class="menu-section-label">Layanan Perbankan</div>

      <div class="menu-card ripple-container stagger-child" onclick="showChecklist('rekening-baru', this)">
        <div class="menu-card-icon ic-blue">ğŸ¦</div>
        <div class="menu-card-text">
          <h3>Buka Rekening Tabungan</h3>
          <p>Cek persyaratan & kelengkapan dokumen pembukaan rekening baru</p>
        </div>
        <div class="menu-card-arrow">â€º</div>
      </div>

      <div class="menu-card ripple-container stagger-child" onclick="showChecklist('tutup-rekening', this)">
        <div class="menu-card-icon ic-orange">ğŸ”’</div>
        <div class="menu-card-text">
          <h3>Tutup Rekening</h3>
          <p>Dokumen yang perlu dibawa untuk penutupan rekening</p>
        </div>
        <div class="menu-card-arrow">â€º</div>
      </div>

      <div class="menu-card ripple-container stagger-child" onclick="showChecklist('ubah-data', this)">
        <div class="menu-card-icon ic-green">âœï¸</div>
        <div class="menu-card-text">
          <h3>Perubahan Data (CIF)</h3>
          <p>Update alamat, nomor HP, nama, dan data nasabah lainnya</p>
        </div>
        <div class="menu-card-arrow">â€º</div>
      </div>

      <div class="menu-card ripple-container stagger-child" onclick="showChecklist('digital-banking', this)">
        <div class="menu-card-icon ic-blue">ğŸ“±</div>
        <div class="menu-card-text">
          <h3>Aktivasi Digital Banking</h3>
          <p>BRImo, Internet Banking, dan layanan digital BRI</p>
        </div>
        <div class="menu-card-arrow">â€º</div>
      </div>

      <div class="menu-card ripple-container stagger-child" onclick="showChecklist('kartu-atm', this)">
        <div class="menu-card-icon ic-purple">ğŸ’³</div>
        <div class="menu-card-text">
          <h3>Penggantian Kartu ATM</h3>
          <p>Kartu hilang, rusak, atau PIN terblokir</p>
        </div>
        <div class="menu-card-arrow">â€º</div>
      </div>

      <div class="menu-section-label">Keamanan Penting</div>

      <div class="warn-banner ripple-container stagger-child" onclick="goToScreen('screen-psa'); return false;">
        <div class="warn-banner-icon">ğŸš¨</div>
        <div class="warn-banner-text">
          <h3>Waspada! Jual Beli Rekening</h3>
          <p>Tahukah Anda? Anda bisa menjadi <strong>KORBAN</strong> tanpa sadar. Ketuk untuk tahu risikonya sebelum terlambat â†’</p>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN 3: CHECKLIST â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-checklist">
    <div class="mobile-header" id="cl-header">
      <div class="mh-top">
        <button class="mh-back" onclick="goBack('screen-menu')">â€¹</button>
        <div class="mh-logo">BRI</div>
        <div class="mh-title">
          <div class="title" id="cl-title">Persyaratan</div>
          <div class="sub" id="cl-sub">Centang dokumen yang sudah disiapkan</div>
        </div>
      </div>
    </div>

    <div class="progress-section">
      <div class="progress-meta">
        <span class="progress-label" id="prog-label">Kesiapan Dokumen</span>
        <span class="progress-count" id="prog-count">0/0</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="prog-fill"></div>
      </div>
    </div>

    <div class="info-box">
      <span class="ib-icon">â„¹ï¸</span>
      <span>Centang semua item yang sudah Anda siapkan sebelum dipanggil ke loket.</span>
    </div>

    <div class="checklist-body" id="checklist-items"></div>

    <div class="checklist-footer">
      <button class="complete-btn locked" id="complete-btn" onclick="handleComplete()">
        Centang semua item dulu
      </button>
      <div class="complete-hint" id="complete-hint">Masih ada dokumen yang belum disiapkan</div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN 4: PSA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-psa">
    <div class="psa-glow-bg"></div>

    <div class="psa-header">
      <button class="psa-back" onclick="goBack('screen-menu')">â€¹</button>
      <div class="psa-header-text">
        <h2>Informasi Keamanan</h2>
        <p>Penting untuk Anda ketahui</p>
      </div>
      <div class="psa-danger-badge">â›” PENTING</div>
    </div>

    <div class="psa-body">
      <div class="psa-hero">
        <span class="psa-warning-icon">âš ï¸</span>
        <div class="psa-tag">Peringatan Keamanan Perbankan</div>
        <h1 class="psa-title">Anda Bisa Menjadi<br><span class="highlight">KORBAN</span><br>Tanpa Sadar</h1>
        <p class="psa-subtitle">Jual beli rekening bukan hanya melanggar hukum â€” <strong style="color:rgba(255,255,255,.85)">Anda adalah pihak yang paling dirugikan.</strong></p>
      </div>

      <div class="psa-section-label">Siapa yang sebenarnya rugi?</div>

      <div class="victim-card">
        <div class="vc-header">
          <div class="vc-icon">ğŸ˜°</div>
          <div class="vc-header-text">
            <h3>Si Penjual Rekening (Mungkin Anda?)</h3>
            <p>Yang menerima imbalan Rp 300.000 â€“ Rp 2.000.000</p>
          </div>
        </div>
        <div class="vc-impacts">
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Rekening dipakai untuk kejahatan: penipuan online, narkotika, atau terorisme</span></div>
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Nama & identitas Anda tersangkut kasus pidana berat</span></div>
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Ditangkap, dituntut, dipenjara â€” padahal "hanya jual rekening"</span></div>
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Semua rekening & aset Anda diblokir selamanya oleh PPATK</span></div>
        </div>
      </div>

      <div class="victim-card">
        <div class="vc-header">
          <div class="vc-icon">ğŸ˜±</div>
          <div class="vc-header-text">
            <h3>Keluarga & Orang Terdekat</h3>
            <p>Yang ikut menanggung dampaknya</p>
          </div>
        </div>
        <div class="vc-impacts">
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Menanggung malu sosial dan stigma di lingkungan</span></div>
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Sulit mendapat pekerjaan karena catatan kriminal</span></div>
          <div class="vc-impact-item"><span class="xi">âŒ</span><span>Rekening anggota keluarga bisa ikut terimbas pemblokiran</span></div>
        </div>
      </div>

      <div class="psa-section-label">Ancaman hukum nyata</div>

      <div class="law-box">
        <div class="law-icon">âš–ï¸</div>
        <div class="law-text">
          <h3>UU No. 8 Tahun 2010 tentang TPPU</h3>
          <p>Membantu menyembunyikan hasil kejahatan melalui rekening orang lain dapat diancam penjara hingga <strong>20 tahun</strong> dan denda hingga <strong>Rp 10 Miliar</strong>.</p>
        </div>
      </div>

      <div class="law-box" style="border-color:rgba(100,180,255,.25); background:rgba(0,101,204,.08);">
        <div class="law-icon">ğŸ“‹</div>
        <div class="law-text">
          <h3 style="color:#6BBFFF">UU ITE & KUHP</h3>
          <p>Penyedia rekening untuk penipuan digital juga dapat dijerat UU ITE dengan ancaman pidana <strong style="color:#6BBFFF">4â€“12 tahun penjara.</strong></p>
        </div>
      </div>

      <div class="psa-section-label">Langkah melindungi diri</div>

      <div class="safe-steps">
        <div class="safe-step">
          <div class="safe-num">1</div>
          <div class="safe-text">Jangan pernah menjual, menyewakan, atau meminjamkan rekening bank Anda kepada siapapun</div>
        </div>
        <div class="safe-step">
          <div class="safe-num">2</div>
          <div class="safe-text">Jangan bagikan nomor rekening, PIN, OTP, atau data perbankan ke siapapun dengan alasan apapun</div>
        </div>
        <div class="safe-step">
          <div class="safe-num">3</div>
          <div class="safe-text">Segera laporkan ke BRI atau Satgas PASTI OJK jika ada yang menawarkan membeli rekening Anda</div>
        </div>
        <div class="safe-step">
          <div class="safe-num">4</div>
          <div class="safe-text">Ingat: uang Rp 500.000 tidak sebanding dengan penjara, nama baik hancur, dan keluarga yang menderita</div>
        </div>
      </div>

      <div class="psa-cta-section">
        <button class="understand-btn" onclick="goBack('screen-menu')">
          âœ… Saya Mengerti & Akan Waspada
        </button>
        <div class="report-link">
          Ada tawaran mencurigakan? <a href="tel:14017">Laporkan ke BRI Call 14017</a>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCREEN 5: DONE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="screen" id="screen-done">
    <div class="done-content">
      <div class="done-success-ring">
        <div class="done-ring"></div>
        <div class="done-ring"></div>
        <div class="done-ring"></div>
        <div class="done-badge">âœ…</div>
      </div>

      <div style="text-align:center">
        <h1 class="done-title">Siap Dilayani!</h1>
        <p class="done-sub">Dokumen Anda sudah lengkap. Tetap di tempat duduk dan tunggu panggilan nomor antrian Anda.</p>
      </div>

      <div class="done-recap">
        <div class="done-recap-title">Ringkasan Kunjungan</div>
        <div class="recap-row">
          <span class="recap-label">Nomor Antrian</span>
          <span class="recap-val" style="font-size:18px; color:var(--blue)">A 037</span>
        </div>
        <div class="recap-row">
          <span class="recap-label">Layanan</span>
          <span class="recap-val" id="done-service">â€”</span>
        </div>
        <div class="recap-row">
          <span class="recap-label">Tanggal</span>
          <span class="recap-val" id="done-date">â€”</span>
        </div>
        <div class="recap-row">
          <span class="recap-label">Status Dokumen</span>
          <span class="ready-pill">âœ… Lengkap</span>
        </div>
      </div>

      <div class="done-tip">
        <span style="font-size:18px">ğŸ’¡</span>
        <span>Siapkan <strong>dokumen fisik</strong> di tangan Anda saat nama dipanggil agar proses pelayanan lebih cepat dan lancar.</span>
      </div>

      <button class="done-home-btn" onclick="goToScreen('screen-welcome')">
        ğŸ  Kembali ke Beranda
      </button>
    </div>
  </div>

</div><!-- #app -->

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CHECKLISTS = {
  'rekening-baru': {
    title: 'Buka Rekening Tabungan',
    icon: 'ğŸ¦',
    items: [
      { id: 'ktp',       label: 'KTP asli dan masih berlaku',            sub: 'KTP Elektronik â€” pastikan tidak expired',                  optional: false },
      { id: 'npwp',      label: 'NPWP (jika memiliki)',                  sub: 'Opsional, namun mempercepat proses',                       optional: true  },
      { id: 'hp',        label: 'Nomor HP aktif atas nama sendiri',      sub: 'SIM card terdaftar atas nama Anda untuk verifikasi OTP',    optional: false },
      { id: 'email',     label: 'Alamat email aktif',                    sub: 'Email yang rutin Anda gunakan untuk notifikasi',            optional: false },
      { id: 'setoran',   label: 'Setoran awal min. Rp 500.000',         sub: 'Uang tunai atau siap transfer dari rekening lain',          optional: false },
    ]
  },
  'tutup-rekening': {
    title: 'Tutup Rekening',
    icon: 'ğŸ”’',
    items: [
      { id: 'ktp',     label: 'KTP asli yang masih berlaku',           sub: 'Identitas diri pemilik rekening â€” wajib asli',              optional: false },
      { id: 'buku',    label: 'Buku tabungan & kartu ATM',             sub: 'Semua buku tabungan dan kartu terkait rekening ini',         optional: false },
      { id: 'saldo',   label: 'Saldo sudah dipindahkan / kosong',      sub: 'Transfer keluar semua saldo sebelum datang',                 optional: false },
      { id: 'hadir',   label: 'Datang sendiri (tidak diwakilkan)',     sub: 'Penutupan rekening hanya dapat dilakukan pemilik langsung',  optional: false },
    ]
  },
  'ubah-data': {
    title: 'Perubahan Data (CIF)',
    icon: 'âœï¸',
    items: [
      { id: 'ktp',      label: 'KTP asli dengan data terbaru',         sub: 'KTP yang memuat informasi yang ingin diperbarui',            optional: false },
      { id: 'buku',     label: 'Buku tabungan / kartu ATM',            sub: 'Untuk verifikasi kepemilikan rekening',                     optional: false },
      { id: 'hp-baru',  label: 'Nomor HP baru yang aktif',             sub: 'Jika ingin update nomor HP, siapkan SIM card baru',          optional: true  },
      { id: 'dok-tmbh', label: 'Dokumen pendukung (jika perlu)',       sub: 'Mis: akta nikah / akta cerai untuk perubahan nama',          optional: true  },
    ]
  },
  'digital-banking': {
    title: 'Aktivasi Digital Banking',
    icon: 'ğŸ“±',
    items: [
      { id: 'ktp',       label: 'KTP asli yang masih berlaku',         sub: 'Untuk verifikasi data nasabah',                              optional: false },
      { id: 'buku',      label: 'Buku tabungan / kartu ATM',           sub: 'Nomor rekening dan kartu diperlukan',                        optional: false },
      { id: 'hp',        label: 'Nomor HP aktif atas nama sendiri',    sub: 'SIM card terdaftar atas nama Anda â€” wajib',                   optional: false },
      { id: 'smartphone',label: 'Smartphone (untuk demonstrasi)',      sub: 'Opsional: langsung install & aktifkan BRImo di tempat',      optional: true  },
    ]
  },
  'kartu-atm': {
    title: 'Penggantian Kartu ATM',
    icon: 'ğŸ’³',
    items: [
      { id: 'ktp',      label: 'KTP asli yang masih berlaku',          sub: 'Identitas diri pemilik rekening',                            optional: false },
      { id: 'buku',     label: 'Buku tabungan',                       sub: 'Untuk verifikasi kepemilikan rekening',                      optional: false },
      { id: 'kartu',    label: 'Kartu ATM lama (jika masih ada)',     sub: 'Jika hilang, cukup laporan kehilangan atau cerita kronologis', optional: true  },
      { id: 'biaya',    label: 'Biaya penggantian (jika berlaku)',     sub: 'Tanyakan ke CS mengenai biaya administrasi terkini',         optional: true  },
    ]
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentScreen = 'screen-welcome';
let currentChecklist = null;
let checkedItems = new Set();
let screenHistory = [];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function goToScreen(id, direction = 'forward') {
  const prev = document.getElementById(currentScreen);
  const next = document.getElementById(id);

  if (!next || id === currentScreen) return;

  // Setup entering screen
  next.classList.remove('exit-left', 'enter-right', 'enter-left');
  next.classList.add(direction === 'forward' ? 'enter-right' : 'enter-left');

  // Force reflow
  void next.offsetWidth;

  // Exit current
  prev.classList.remove('active');
  prev.classList.add('exit-left');

  // Animate in
  next.classList.add('active');
  next.classList.remove('enter-right', 'enter-left');

  // Cleanup after animation
  setTimeout(() => {
    prev.classList.remove('exit-left', 'active');
    // Scroll to top
    next.scrollTop = 0;
    // Run stagger animations
    animateStagger(next);
  }, 360);

  screenHistory.push(currentScreen);
  currentScreen = id;
}

function goBack(to) {
  const prev = document.getElementById(currentScreen);
  const next = document.getElementById(to);

  if (!next) return;

  next.classList.remove('exit-left', 'enter-right', 'enter-left');
  next.classList.add('enter-left');
  void next.offsetWidth;

  prev.classList.remove('active');
  prev.style.opacity = '0';
  prev.style.transform = 'translateX(30px)';

  next.classList.add('active');
  next.classList.remove('enter-left');

  setTimeout(() => {
    prev.classList.remove('active');
    prev.style.opacity = '';
    prev.style.transform = '';
    next.scrollTop = 0;
    animateStagger(next);
  }, 360);

  screenHistory.pop();
  currentScreen = to;
}

function animateStagger(container) {
  const items = container.querySelectorAll('.stagger-child');
  items.forEach((el, i) => {
    el.classList.remove('animate');
    void el.offsetWidth;
    el.style.animationDelay = `${i * 0.07}s`;
    el.classList.add('animate');
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CHECKLIST LOGIC
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showChecklist(type, el) {
  // Ripple
  if (el) addRipple(el, event);

  currentChecklist = type;
  checkedItems = new Set();

  const data = CHECKLISTS[type];
  if (!data) return;

  // Set header
  document.getElementById('cl-title').textContent = data.title;
  document.getElementById('cl-sub').textContent = `${data.icon} Centang dokumen yang sudah disiapkan`;
  document.getElementById('done-service').textContent = data.title;

  // Render items
  const container = document.getElementById('checklist-items');
  container.innerHTML = '';

  data.items.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'check-item ripple-container stagger-child';
    div.dataset.id = item.id;
    div.dataset.idx = i;
    div.innerHTML = `
      <div class="check-box">
        <span class="check-icon">âœ“</span>
      </div>
      <div class="check-text">
        <h4>${item.label}</h4>
        <p>${item.sub}</p>
      </div>
      ${item.optional ? '<span class="check-optional">Opsional</span>' : ''}
    `;
    div.addEventListener('click', function(e) {
      addRipple(this, e);
      toggleItem(item.id, data.items.length);
      this.classList.toggle('checked');
      // Haptic if supported
      if (navigator.vibrate) navigator.vibrate(15);
    });
    container.appendChild(div);
  });

  updateProgress(data.items.length);
  goToScreen('screen-checklist');
}

function toggleItem(id, total) {
  if (checkedItems.has(id)) {
    checkedItems.delete(id);
  } else {
    checkedItems.add(id);
    if (checkedItems.size === total) {
      showToast('ğŸ‰ Semua dokumen sudah siap!');
    }
  }
  updateProgress(total);
}

function updateProgress(total) {
  const count = checkedItems.size;
  const pct = total > 0 ? (count / total) * 100 : 0;

  document.getElementById('prog-fill').style.width = pct + '%';
  document.getElementById('prog-count').textContent = `${count}/${total}`;
  document.getElementById('prog-label').textContent =
    count === 0 ? 'Belum ada yang dicentang' :
    count === total ? 'âœ… Semua dokumen siap!' :
    `${count} dari ${total} dokumen siap`;

  const btn = document.getElementById('complete-btn');
  const hint = document.getElementById('complete-hint');

  if (count === total) {
    btn.className = 'complete-btn unlocked';
    btn.textContent = 'âœ… Saya Sudah Siap â€” Lanjut!';
    hint.textContent = '';
    hint.style.opacity = '0';
  } else {
    btn.className = 'complete-btn locked';
    btn.textContent = `${total - count} item lagi untuk melanjutkan`;
    const unrequired = CHECKLISTS[currentChecklist]?.items.filter(i => !i.optional).length || total;
    const requiredChecked = CHECKLISTS[currentChecklist]?.items
      .filter(i => !i.optional && checkedItems.has(i.id)).length || 0;

    if (requiredChecked === unrequired) {
      btn.className = 'complete-btn unlocked';
      btn.textContent = 'âœ… Dokumen Wajib Lengkap â€” Lanjut!';
      hint.textContent = 'Item opsional boleh dilewati';
      hint.style.opacity = '1';
    } else {
      hint.textContent = `Masih ada ${total - count} dokumen yang belum siap`;
      hint.style.opacity = '1';
    }
  }
}

function handleComplete() {
  const btn = document.getElementById('complete-btn');
  if (btn.classList.contains('locked')) {
    // Shake animation
    btn.style.animation = 'none';
    void btn.offsetWidth;
    btn.style.animation = 'shakeBtn .4s ease';
    showToast('âš ï¸ Lengkapi dokumen terlebih dahulu');
    if (navigator.vibrate) navigator.vibrate([30, 50, 30]);
    return;
  }

  // Success!
  if (navigator.vibrate) navigator.vibrate([50, 30, 100]);
  spawnConfetti();

  // Set done date
  const months = ['Jan','Feb','Mar','Apr','Mei','Jun','Jul','Agu','Sep','Okt','Nov','Des'];
  const now = new Date();
  document.getElementById('done-date').textContent =
    `${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`;

  goToScreen('screen-done');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UI EFFECTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addRipple(el, e) {
  const rect = el.getBoundingClientRect();
  const x = (e?.clientX ?? rect.left + rect.width/2) - rect.left;
  const y = (e?.clientY ?? rect.top + rect.height/2) - rect.top;
  const size = Math.max(rect.width, rect.height) * 2;

  const ripple = document.createElement('span');
  ripple.className = 'ripple';
  ripple.style.cssText = `width:${size}px;height:${size}px;left:${x - size/2}px;top:${y - size/2}px`;
  el.appendChild(ripple);
  setTimeout(() => ripple.remove(), 600);
}

let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 2200);
}

function spawnConfetti() {
  const colors = ['#003F88','#0065CC','#F47920','#FFB800','#0D9B50','#FF4477','#44DDFF'];
  for (let i = 0; i < 60; i++) {
    setTimeout(() => {
      const p = document.createElement('div');
      p.className = 'confetti-piece';
      p.style.cssText = `
        left: ${Math.random()*100}%;
        background: ${colors[Math.floor(Math.random()*colors.length)]};
        width: ${4 + Math.random()*8}px;
        height: ${4 + Math.random()*8}px;
        border-radius: ${Math.random() > 0.5 ? '50%' : '2px'};
        animation-duration: ${1.5 + Math.random()*2}s;
        animation-delay: ${Math.random()*0.5}s;
      `;
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 3500);
    }, Math.random() * 200);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function init() {
  // Set ticket date/time
  const now = new Date();
  const months = ['Jan','Feb','Mar','Apr','Mei','Jun','Jul','Agu','Sep','Okt','Nov','Des'];
  const dateEl = document.getElementById('ticket-date');
  const timeEl = document.getElementById('ticket-time');
  if (dateEl) dateEl.textContent = `${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`;
  if (timeEl) timeEl.textContent = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')} WIB`;

  // Add shake keyframe
  const style = document.createElement('style');
  style.textContent = `
    @keyframes shakeBtn {
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-8px)}
      40%{transform:translateX(8px)}
      60%{transform:translateX(-6px)}
      80%{transform:translateX(6px)}
    }
  `;
  document.head.appendChild(style);

  // Initial stagger
  setTimeout(() => animateStagger(document.getElementById('screen-welcome')), 100);

  // Hide splash
  setTimeout(() => {
    document.getElementById('loading-splash').classList.add('hide');
    setTimeout(() => {
      document.getElementById('loading-splash').style.display = 'none';
    }, 600);
  }, 1400);

  // Register SW if available
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').catch(() => {});
  }

  // Handle URL params for deep-link from QR
  const params = new URLSearchParams(window.location.search);
  const service = params.get('s');
  if (service && CHECKLISTS[service]) {
    setTimeout(() => {
      goToScreen('screen-menu');
      setTimeout(() => showChecklist(service, null), 500);
    }, 1600);
  }
}

document.addEventListener('DOMContentLoaded', init);

// Prevent double-tap zoom on iOS
let lastTap = 0;
document.addEventListener('touchend', function(e) {
  const now = Date.now();
  if (now - lastTap < 300) e.preventDefault();
  lastTap = now;
}, { passive: false });
</script>
</body>
</html>
